<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>WorldOrchestra</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <!-- build:css(.tmp) styles/main.css -->
        <link rel="stylesheet" href="styles/main.css">
        <!-- endbuild -->
        <!-- build:js scripts/vendor/modernizr.js -->
        <script src="bower_components/modernizr/modernizr.js"></script>
        <!-- endbuild -->
    </head>
    <body>
        <!--[if lt IE 10]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->


        <div class="hero-unit">
          <h1>'Allo, 'Allo!</h1>
          <p>You now have</p>
          <ul>
            <li>HTML5 Boilerplate</li>
            <li>jQuery</li>
            <li>Backbone.js</li>
            <li>Underscore.js</li>
            <li>Modernizr</li>
            <li>RequireJS</li>
            <li>Marionette</li>
          </ul>
        </div>
        <div id="content"></div>
        <script type="text/template" id="sample-template">
            put some content <%= contentPlacement %>.
        </script>


        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->

        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>
        
        <script src="bower_components/tone/build/Tone.js"></script>
        <script src="midi.loadPlugin.js"></script>
        <script src="midi.js"></script>
        <script src="midi.player.js"></script>
        <script src="inc/jasmid/replayer.js"></script>
        <script src="inc/jasmid/midifile.js"></script>
        <script src="inc/jasmid/stream.js"></script>
        <script src="synth.js"></script>
        <script src="audio.js"></script>
        <script src="inc/Base64.js"></script>
        <script src="inc/base64binary.js"></script>
        <script src="inc/WebMIDIAPI.js"></script>
        <script src="LoadPlugin.js"></script>
        <script src="Plugin.js"></script>
        <script src="indyFull.js"></script>

        <script>
        /* globals Tone, GUI */

        var synthOptions = {
            "portamento" : 0.05,
            "oscillator" : {
                "type" : "square"
            },
            "filter": {
                "Q": 6,
                "type": "lowpass",
                "rolloff": -24
            },
            "envelope": {
                "attack": 0.005,
                "decay": 0.01,
                "sustain": 0.9,
                "release": 0.001
            },
            "filterEnvelope": {
                "attack": 0.006,
                "decay": 0.02,
                "sustain": 0.5,
                "release": 0.001,
                "min": 10,
                "max": 4000
            }
        };

        // var synth = new Tone.MonoSynth(synthOptions);
        var sampler = new Tone.MultiSampler({
            "A0" : "soundfont/acoustic_grand_piano-mp3/A0.mp3",
            "A1" : "soundfont/acoustic_grand_piano-mp3/A1.mp3",
            "A2" : "soundfont/acoustic_grand_piano-mp3/A2.mp3",
            "A3" : "soundfont/acoustic_grand_piano-mp3/A3.mp3",
            "A4" : "soundfont/acoustic_grand_piano-mp3/A4.mp3",
            "A5" : "soundfont/acoustic_grand_piano-mp3/A5.mp3",
            "A6" : "soundfont/acoustic_grand_piano-mp3/A6.mp3",
            "A7" : "soundfont/acoustic_grand_piano-mp3/A7.mp3",
            "B0" : "soundfont/acoustic_grand_piano-mp3/B0.mp3",
            "B1" : "soundfont/acoustic_grand_piano-mp3/B1.mp3",
            "B2" : "soundfont/acoustic_grand_piano-mp3/B2.mp3",
            "B3" : "soundfont/acoustic_grand_piano-mp3/B3.mp3",
            "B4" : "soundfont/acoustic_grand_piano-mp3/B4.mp3",
            "B5" : "soundfont/acoustic_grand_piano-mp3/B5.mp3",
            "B6" : "soundfont/acoustic_grand_piano-mp3/B6.mp3",
            "B7" : "soundfont/acoustic_grand_piano-mp3/B7.mp3",
            "C0" : "soundfont/acoustic_grand_piano-mp3/C0.mp3",
            "C1" : "soundfont/acoustic_grand_piano-mp3/C1.mp3",
            "C2" : "soundfont/acoustic_grand_piano-mp3/C2.mp3",
            "C3" : "soundfont/acoustic_grand_piano-mp3/C3.mp3",
            "C4" : "soundfont/acoustic_grand_piano-mp3/C4.mp3",
            "C5" : "soundfont/acoustic_grand_piano-mp3/C5.mp3",
            "C6" : "soundfont/acoustic_grand_piano-mp3/C6.mp3",
            "C7" : "soundfont/acoustic_grand_piano-mp3/C7.mp3",
            "C8" : "soundfont/acoustic_grand_piano-mp3/C8.mp3",
            "D0" : "soundfont/acoustic_grand_piano-mp3/D0.mp3",
            "D1" : "soundfont/acoustic_grand_piano-mp3/D1.mp3",
            "D2" : "soundfont/acoustic_grand_piano-mp3/D2.mp3",
            "D3" : "soundfont/acoustic_grand_piano-mp3/D3.mp3",
            "D4" : "soundfont/acoustic_grand_piano-mp3/D4.mp3",
            "D5" : "soundfont/acoustic_grand_piano-mp3/D5.mp3",
            "D6" : "soundfont/acoustic_grand_piano-mp3/D6.mp3",
            "D7" : "soundfont/acoustic_grand_piano-mp3/D7.mp3",
            "E0" : "soundfont/acoustic_grand_piano-mp3/E0.mp3",
            "E1" : "soundfont/acoustic_grand_piano-mp3/E1.mp3",
            "E2" : "soundfont/acoustic_grand_piano-mp3/E2.mp3",
            "E3" : "soundfont/acoustic_grand_piano-mp3/E3.mp3",
            "E4" : "soundfont/acoustic_grand_piano-mp3/E4.mp3",
            "E5" : "soundfont/acoustic_grand_piano-mp3/E5.mp3",
            "E6" : "soundfont/acoustic_grand_piano-mp3/E6.mp3",
            "E7" : "soundfont/acoustic_grand_piano-mp3/E7.mp3",
            "F0" : "soundfont/acoustic_grand_piano-mp3/F0.mp3",
            "F1" : "soundfont/acoustic_grand_piano-mp3/F1.mp3",
            "F2" : "soundfont/acoustic_grand_piano-mp3/F2.mp3",
            "F3" : "soundfont/acoustic_grand_piano-mp3/F3.mp3",
            "F4" : "soundfont/acoustic_grand_piano-mp3/F4.mp3",
            "F5" : "soundfont/acoustic_grand_piano-mp3/F5.mp3",
            "F6" : "soundfont/acoustic_grand_piano-mp3/F6.mp3",
            "F7" : "soundfont/acoustic_grand_piano-mp3/F7.mp3",
            "G0" : "soundfont/acoustic_grand_piano-mp3/G0.mp3",
            "G1" : "soundfont/acoustic_grand_piano-mp3/G1.mp3",
            "G2" : "soundfont/acoustic_grand_piano-mp3/G2.mp3",
            "G3" : "soundfont/acoustic_grand_piano-mp3/G3.mp3",
            "G4" : "soundfont/acoustic_grand_piano-mp3/G4.mp3",
            "G5" : "soundfont/acoustic_grand_piano-mp3/G5.mp3",
            "G6" : "soundfont/acoustic_grand_piano-mp3/G6.mp3",
            "G7" : "soundfont/acoustic_grand_piano-mp3/G7.mp3"
         }, onload);
         //once loaded..
        
        sampler.setVolume(0);
        sampler.toMaster();

        var synthPart = [["0", "C2"], ["1*8n", "C4"], ["2*8n", "E4"], ["3*8n", "B3"], 
            ["4*8n", "G3"], ["5*8n", "C2"], ["6*8n", "C4"], ["7*8n", "B1"]];

                         //[time,               note, velocity]
        var otherPart = [["5:0:2.8333333333333286","E3","0.83"],["5:1:0.4166666666666714","E3","0.00"],["5:1:1.9583333333333286","F3","0.80"],["5:1:2.375","F3","0.00"],["5:1:2.8333333333333286","G3","0.80"],["5:1:3.625","G3","0.00"],["5:2:1.0833333333333286","C4","0.85"],["6:0:2.0833333333333286","C4","0.00"],["6:0:2.8333333333333286","D3","0.83"],["6:0:3.8333333333333286","D3","0.00"],["6:1:1.9583333333333286","E3","0.80"],["6:1:2.375","E3","0.00"],["6:1:2.8333333333333286","F3","0.84"],["7:0:1.8333333333333286","F3","0.00"],["7:0:2.8333333333333286","G3","0.83"],["7:1:0.4166666666666714","G3","0.00"],["7:1:1.9583333333333286","A3","0.80"],["7:1:2.375","A3","0.00"],["7:1:2.8333333333333286","B3","0.81"],["7:1:3.625","B3","0.00"],["7:2:1.0833333333333286","F4","0.85"],["8:0:2.083333333333343","F4","0.00"],["8:0:2.833333333333343","A3","0.80"],["8:0:3.833333333333343","A3","0.00"],["8:1:1.9583333333333428","B3","0.83"],["8:1:2.375","B3","0.00"],["8:1:2.833333333333343","C4","0.87"],["8:2:0.8333333333333428","C4","0.00"],["8:2:2.833333333333343","D4","0.85"],["8:3:0.8333333333333428","D4","0.00"],["8:3:2.833333333333343","E4","0.83"],["9:0:1.8333333333333428","E4","0.00"],["9:0:2.833333333333343","E3","0.85"],["9:1:0.4166666666666572","E3","0.00"],["9:1:1.9583333333333428","F3","0.83"],["9:1:2.375","F3","0.00"],["9:1:2.833333333333343","G3","0.83"],["9:1:3.625","G3","0.00"],["9:2:1.0833333333333428","C4","0.86"],["10:0:2.083333333333343","C4","0.00"],["10:0:2.833333333333343","D4","0.88"],["10:0:3.833333333333343","D4","0.00"],["10:1:1.9583333333333428","E4","0.81"],["10:1:2.375","E4","0.00"],["10:1:2.833333333333343","F4","0.85"],["11:0:1.8333333333333428","F4","0.00"],["11:0:2.833333333333343","G3","0.83"],["11:0:3.833333333333343","G3","0.00"],["11:1:1.9583333333333428","G3","0.83"],["11:1:2.375","G3","0.00"],["11:1:2.833333333333343","F3","0.76"],["11:2:2.416666666666657","F3","0.00"],["11:2:2.833333333333343","G3","0.80"],["11:2:3.625","G3","0.00"],["11:3:1.9583333333333428","G3","0.83"],["11:3:2.375","G3","0.00"],["11:3:2.833333333333343","F3","0.78"],["12:0:2.416666666666657","F3","0.00"],["12:0:2.833333333333343","G3","0.77"],["12:0:3.625","G3","0.00"],["12:1:1.9583333333333428","G3","0.85"],["12:1:2.375","G3","0.00"],["12:1:2.833333333333343","F3","0.76"],["12:2:2.416666666666657","F3","0.00"],["12:2:2.833333333333343","G3","0.80"],["12:2:3.625","G3","0.00"],["12:3:1.9583333333333428","G3","0.83"],["12:3:2.375","G3","0.00"],["12:3:2.833333333333343","F3","0.78"],["13:0:0.625","F3","0.00"],["13:0:0.8333333333333428","G3","0.77"],["13:0:1.625","G3","0.00"],["13:0:2.833333333333343","E3","0.83"],["13:1:0.4166666666666572","E3","0.00"],["13:1:1.9583333333333428","F3","0.80"],["13:1:2.375","F3","0.00"],["13:1:2.833333333333343","G3","0.80"],["13:1:3.625","G3","0.00"],["13:2:1.0833333333333428","C4","0.85"],["14:0:2.083333333333343","C4","0.00"],["14:0:2.833333333333343","D3","0.83"],["14:0:3.833333333333343","D3","0.00"],["14:1:1.9583333333333428","E3","0.80"],["14:1:2.375","E3","0.00"],["14:1:2.833333333333343","F3","0.84"],["15:0:1.8333333333333428","F3","0.00"],["15:0:2.833333333333343","G3","0.83"],["15:1:0.4166666666666572","G3","0.00"],["15:1:1.9583333333333428","A3","0.80"],["15:1:2.375","A3","0.00"],["15:1:2.833333333333343","B3","0.81"],["15:1:3.625","B3","0.00"],["15:2:1.0833333333333428","F4","0.85"],["16:0:2.0833333333333144","F4","0.00"],["16:0:2.8333333333333144","A3","0.80"],["16:0:3.8333333333333144","A3","0.00"],["16:1:1.9583333333333144","B3","0.83"],["16:1:2.375","B3","0.00"],["16:1:2.8333333333333144","C4","0.87"],["16:2:0.8333333333333144","C4","0.00"],["16:2:2.8333333333333144","D4","0.85"],["16:3:0.8333333333333144","D4","0.00"],["16:3:2.8333333333333144","E4","0.83"],["17:0:1.8333333333333144","E4","0.00"],["17:0:2.8333333333333144","E3","0.85"],["17:1:0.4166666666666856","E3","0.00"],["17:1:1.9583333333333144","F3","0.83"],["17:1:2.375","F3","0.00"],["17:1:2.8333333333333144","G3","0.83"],["17:1:3.625","G3","0.00"],["17:2:1.0833333333333144","C4","0.86"],["18:0:2.0833333333333144","C4","0.00"],["18:0:2.8333333333333144","D4","0.88"],["18:0:3.8333333333333144","D4","0.00"],["18:1:1.9583333333333144","E4","0.81"],["18:1:2.375","E4","0.00"],["18:1:2.8333333333333144","F4","0.85"],["19:0:1.8333333333333144","F4","0.00"],["29:0:2.8333333333333144","E3","0.78"],["29:0:3.8333333333333144","E3","0.00"],["29:1:1.9583333333333144","G3","0.78"],["29:1:2.5416666666666856","G3","0.00"],["29:1:2.8333333333333144","F3","0.76"],["30:0:1.8333333333333144","F3","0.00"],["30:0:2.8333333333333144","D3","0.74"],["30:0:3.8333333333333144","D3","0.00"],["30:1:1.9583333333333144","F3","0.72"],["30:1:2.5416666666666856","F3","0.00"],["30:1:2.8333333333333144","E3","0.73"],["30:1:3.625","E3","0.00"],["30:2:0","G3","0.74"],["30:2:0.7916666666666856","G3","0.00"],["30:2:1.1666666666666856","E4","0.77"],["31:0:2.1666666666666856","E4","0.00"],["31:0:2.8333333333333144","E3","0.74"],["31:0:3.8333333333333144","E3","0.00"],["31:1:1.9583333333333144","G3","0.72"],["31:1:2.5416666666666856","G3","0.00"],["31:1:2.8333333333333144","F3","0.76"],["32:0:1.8333333333333712","F3","0.00"],["32:0:2.8333333333333712","D3","0.72"],["32:0:3.8333333333333712","D3","0.00"],["32:1:1.9583333333333712","F3","0.72"],["32:1:2.5416666666666288","F3","0.00"],["32:1:2.8333333333333712","D#3","0.73"],["32:1:3.625","D#3","0.00"],["32:2:0","D3","0.74"],["32:2:0.7916666666666288","D3","0.00"],["32:2:1.1666666666666288","C3","0.77"],["33:0:2.1666666666666288","C3","0.00"],["33:0:2.8333333333333712","E3","0.80"],["33:0:3.8333333333333712","E3","0.00"],["33:1:1.9583333333333712","G3","0.77"],["33:1:2.5416666666666288","G3","0.00"],["33:1:2.8333333333333712","F3","0.78"],["34:0:1.8333333333333712","F3","0.00"]];

        Tone.Note.daveScore = function (song, score){
                   var notes = [];
                   for (var inst in score){
                       var part = score[inst];
                       if (inst === "tempo"){
                           Tone.Transport.setBpm(part);
                       } else if (inst === "timeSignature"){
                           Tone.Transport.setTimeSignature(part[0], part[1]);
                       } else if (Array.isArray(song[part])){
                           for (var i = 0; i < song[part].length; i+=2){
                               var noteDescription = song[part][i];
                               var note;
                               if (Array.isArray(noteDescription)){
                                   var time = noteDescription[0];
                                   var value = noteDescription.slice(1);
                                   var dur_time1=time;
                                   var dur_time2 = song[part][i+1][0];
                                   var duration = function(start, end){
                                        var duration = Math.abs(Tone.Transport.toSeconds(end) - Tone.Transport.toSeconds(start));
                                        // for( var i=0; i<3; i++ ){
                                        //     duration.push(Math.abs(end[i] - start[i]));
                                        // }
                                        // return duration.join(":");
                                        return duration
                                   };
                                   var noteDuration = duration(dur_time1, dur_time2);
                                   note = new Tone.Note(inst, time, value, noteDuration);
                               } else {
                                   note = new Tone.Note(inst, noteDescription);
                               }
                               notes.push(note);
                           }
                       } else {
                           throw new TypeError("score parts must be Arrays");
                       }
                   }
                   console.log('notes->', notes);
                   console.log(notes.length);
                   return notes;
               };

        var indy = [["1:1:3.833333333333332","C1","0.65"],["1:2:0.8333333333333321","C1","0.00"],["2:0:1.8333333333333357","C1","0.64"],["2:0:2.8333333333333357","C1","0.00"],["2:1:3.8333333333333357","C1","0.65"],["2:2:0.8333333333333357","C1","0.00"],["3:0:1.8333333333333357","C1","0.64"],["3:0:2.8333333333333357","C1","0.00"],["3:1:3.8333333333333357","C1","0.65"],["3:2:0.8333333333333357","C1","0.00"],["4:0:1.8333333333333286","C1","0.64"],["4:0:2.8333333333333286","C1","0.00"],["4:1:3.8333333333333286","C1","0.65"],["4:2:0.8333333333333286","C1","0.00"],["5:0:1.8333333333333286","C1","0.64"],["5:0:2.8333333333333286","C1","0.00"],["5:1:3.8333333333333286","C1","0.65"],["5:2:0.8333333333333286","C1","0.00"],["6:0:1.8333333333333286","C1","0.64"],["6:0:2.8333333333333286","C1","0.00"],["6:1:3.8333333333333286","C1","0.65"],["6:2:0.8333333333333286","C1","0.00"],["7:0:1.8333333333333286","C1","0.64"],["7:0:2.8333333333333286","C1","0.00"],["7:1:3.8333333333333286","C1","0.65"],["7:2:0.8333333333333286","C1","0.00"],["8:0:1.8333333333333428","C1","0.64"],["8:0:2.833333333333343","C1","0.00"],["8:1:3.833333333333343","C1","0.65"],["8:2:0.8333333333333428","C1","0.00"],["9:0:1.8333333333333428","G0","0.64"],["9:0:2.833333333333343","G0","0.00"],["9:1:3.833333333333343","C1","0.65"],["9:2:0.8333333333333428","C1","0.00"],["10:0:1.8333333333333428","C1","0.64"],["10:0:2.833333333333343","C1","0.00"],["10:1:3.833333333333343","C#1","0.65"],["10:2:0.8333333333333428","C#1","0.00"],["11:0:1.8333333333333428","C#1","0.64"],["11:0:2.833333333333343","C#1","0.00"],["11:2:3.833333333333343","G1","0.64"],["11:3:0.8333333333333428","G1","0.00"],["12:0:3.833333333333343","G1","0.64"],["12:1:0.8333333333333428","G1","0.00"],["12:2:3.833333333333343","G1","0.67"],["12:3:0.8333333333333428","G1","0.00"],["13:0:1.8333333333333428","G1","0.65"],["13:0:2.833333333333343","G1","0.00"],["13:1:3.833333333333343","C1","0.78"],["13:2:0.8333333333333428","C1","0.00"],["14:0:1.8333333333333428","C1","0.76"],["14:0:2.833333333333343","C1","0.00"],["14:1:3.833333333333343","C1","0.78"],["14:2:0.8333333333333428","C1","0.00"],["15:0:1.8333333333333428","C1","0.76"],["15:0:2.833333333333343","C1","0.00"],["15:1:3.833333333333343","C1","0.78"],["15:2:0.8333333333333428","C1","0.00"],["16:0:1.8333333333333144","C1","0.76"],["16:0:2.8333333333333144","C1","0.00"],["16:1:3.8333333333333144","C1","0.78"],["16:2:0.8333333333333144","C1","0.00"],["17:0:1.8333333333333144","G0","0.76"],["17:0:2.8333333333333144","G0","0.00"],["17:1:3.8333333333333144","C1","0.78"],["17:2:0.8333333333333144","C1","0.00"],["18:0:1.8333333333333144","C1","0.76"],["18:0:2.8333333333333144","C1","0.00"],["18:1:3.8333333333333144","C#1","0.78"],["18:2:0.8333333333333144","C#1","0.00"],["19:0:1.8333333333333144","C#1","0.76"],["19:0:2.8333333333333144","C#1","0.00"],["19:2:3.8333333333333144","G1","0.87"],["19:3:0.8333333333333144","G1","0.00"],["20:0:3.8333333333333144","G1","0.87"],["20:1:0.8333333333333144","G1","0.00"],["20:2:3.8333333333333144","G1","0.83"],["20:3:0.8333333333333144","G1","0.00"],["21:0:1.8333333333333144","G1","0.87"],["21:0:2.8333333333333144","G1","0.00"],["21:0:2.8333333333333144","C1","0.66"],["21:1:0.8333333333333144","C1","0.00"],["21:1:2.8333333333333144","C1","0.57"],["21:1:3.8333333333333144","C1","0.00"],["21:1:3.8333333333333144","C1","0.66"],["21:2:1.8333333333333144","C1","0.00"],["21:2:3.8333333333333144","C1","0.57"],["21:3:0.8333333333333144","C1","0.00"],["21:3:0.8333333333333144","A0","0.66"],["21:3:2.8333333333333144","A0","0.00"],["22:0:0.8333333333333144","A0","0.57"],["22:0:1.8333333333333144","A0","0.00"],["22:0:1.8333333333333144","C1","0.66"],["22:0:3.8333333333333144","C1","0.00"],["22:1:1.8333333333333144","C1","0.57"],["22:1:2.8333333333333144","C1","0.00"],["22:1:2.8333333333333144","C1","0.66"],["22:2:0.8333333333333144","C1","0.00"],["22:2:2.8333333333333144","C1","0.57"],["22:2:3.8333333333333144","C1","0.00"],["22:2:3.8333333333333144","C1","0.66"],["22:3:1.8333333333333144","C1","0.00"],["22:3:3.8333333333333144","C1","0.57"],["23:0:0.8333333333333144","C1","0.00"],["23:0:3.8333333333333144","G0","0.66"],["23:1:0.8333333333333144","G0","0.00"],["23:3:3.8333333333333144","C1","0.57"],["24:0:0.8333333333333144","C1","0.00"],["24:0:0.8333333333333144","C1","0.90"],["24:0:2.8333333333333144","C1","0.00"],["24:1:0.8333333333333144","C1","0.65"],["24:1:1.8333333333333144","C1","0.00"],["24:2:0.8333333333333144","G0","0.66"],["24:2:1.8333333333333144","G0","0.00"],["25:1:0.8333333333333144","C1","0.57"],["25:1:1.8333333333333144","C1","0.00"],["25:1:1.8333333333333144","C1","0.90"],["25:1:3.8333333333333144","C1","0.00"],["25:2:1.8333333333333144","C1","0.65"],["25:2:2.8333333333333144","C1","0.00"],["25:3:1.8333333333333144","G0","0.66"],["25:3:2.8333333333333144","G0","0.00"],["26:2:1.8333333333333144","G0","0.57"],["26:2:2.8333333333333144","G0","0.00"],["26:3:1.8333333333333144","F0","0.66"],["26:3:2.8333333333333144","F0","0.00"],["27:2:1.8333333333333144","F0","0.57"],["27:2:2.8333333333333144","F0","0.00"],["27:2:2.8333333333333144","C1","0.90"],["27:2:3.8333333333333144","C1","0.00"],["28:0:2.8333333333333144","C1","0.61"],["28:0:3.8333333333333144","C1","0.00"],["28:1:2.8333333333333144","C1","0.57"],["28:1:3.8333333333333144","C1","0.00"],["28:2:2.8333333333333144","C1","0.61"],["28:2:3.8333333333333144","C1","0.00"],["28:3:2.8333333333333144","C1","0.61"],["28:3:3.8333333333333144","C1","0.00"],["29:0:2.8333333333333144","C1","0.61"],["29:0:3.8333333333333144","C1","0.00"],["29:1:2.8333333333333144","C1","0.57"],["29:1:3.8333333333333144","C1","0.00"],["29:2:2.8333333333333144","C1","0.61"],["29:2:3.8333333333333144","C1","0.00"],["29:3:2.8333333333333144","C1","0.61"],["29:3:3.8333333333333144","C1","0.00"],["30:0:2.8333333333333144","C1","0.61"],["30:0:3.8333333333333144","C1","0.00"],["30:1:2.8333333333333144","C1","0.57"],["30:1:3.8333333333333144","C1","0.00"],["30:2:2.8333333333333144","C1","0.61"],["30:2:3.8333333333333144","C1","0.00"],["30:3:2.8333333333333144","C1","0.61"],["30:3:3.8333333333333144","C1","0.00"],["31:0:2.8333333333333144","C1","0.61"],["31:0:3.8333333333333144","C1","0.00"],["31:1:2.8333333333333144","C1","0.57"],["31:1:3.8333333333333144","C1","0.00"],["31:2:2.8333333333333144","C1","0.61"],["31:2:3.8333333333333144","C1","0.00"],["31:3:2.8333333333333144","G0","0.61"],["31:3:3.8333333333333144","G0","0.00"],["32:0:2.8333333333333712","C1","0.61"],["32:0:3.8333333333333712","C1","0.00"],["32:1:2.8333333333333712","C1","0.57"],["32:1:3.8333333333333712","C1","0.00"],["32:2:2.8333333333333712","C1","0.61"],["32:2:3.8333333333333712","C1","0.00"],["32:3:2.8333333333333712","C1","0.61"],["32:3:3.8333333333333712","C1","0.00"],["33:0:2.8333333333333712","C#1","0.61"],["33:0:3.8333333333333712","C#1","0.00"],["33:1:2.8333333333333712","C#1","0.57"],["33:1:3.8333333333333712","C#1","0.00"],["33:2:2.8333333333333712","C#1","0.61"],["33:2:3.8333333333333712","C#1","0.00"],["34:1:2.8333333333333712","G0","0.64"],["34:1:3.8333333333333712","G0","0.00"],["34:3:2.8333333333333712","G0","0.64"],["34:3:3.8333333333333712","G0","0.00"],["35:1:2.8333333333333712","G0","0.67"],["35:1:3.8333333333333712","G0","0.00"],["35:3:2.8333333333333712","G0","0.67"],["35:3:3.8333333333333712","G0","0.00"],["36:0:2.8333333333333712","C1","0.62"],["36:1:0.33333333333337123","C1","0.00"],["37:0:2.8333333333333712","F1","0.80"],["37:1:2.4166666666666288","F1","0.00"],["37:1:2.8333333333333712","E1","0.84"],["37:1:3.625","E1","0.00"],["37:2:1.9583333333333712","D1","0.83"],["37:2:2.375","D1","0.00"],["37:2:2.8333333333333712","C1","0.84"],["37:2:3.625","C1","0.00"],["44:1:2.8333333333333712","G#0","0.64"],["44:1:3.8333333333333712","G#0","0.00"],["44:3:2.8333333333333712","G#0","0.64"],["44:3:3.8333333333333712","G#0","0.00"],["45:1:2.8333333333333712","G#0","0.67"],["45:1:3.8333333333333712","G#0","0.00"],["45:3:2.8333333333333712","G#0","0.67"],["45:3:3.8333333333333712","G#0","0.00"],["46:0:2.8333333333333712","C#1","0.62"],["46:1:0.33333333333337123","C#1","0.00"],["89:0:2.8333333333332575","C1","0.54"],["89:3:2.8333333333332575","C1","0.00"],["90:0:2.8333333333332575","G1","0.46"],["90:1:2.8333333333332575","G1","0.00"],["90:1:2.8333333333332575","G1","0.50"],["90:3:2.8333333333332575","G1","0.00"],["90:3:2.8333333333332575","G1","0.48"],["91:0:2.8333333333332575","G1","0.00"],["91:0:2.8333333333332575","C1","0.46"],["92:0:2.8333333333332575","C1","0.00"],["92:0:2.8333333333332575","A#0","0.54"],["92:1:2.8333333333332575","A#0","0.00"],["105:3:2.8333333333332575","D#1","0.57"],["105:3:3.8333333333332575","D#1","0.00"],["106:0:2.8333333333332575","A#0","0.66"],["106:0:3.8333333333332575","A#0","0.00"],["106:3:2.8333333333332575","D#1","0.57"],["106:3:3.8333333333332575","D#1","0.00"],["106:3:3.8333333333332575","D#1","0.90"],["107:0:1.8333333333332575","D#1","0.00"],["107:0:3.8333333333332575","D#1","0.65"],["107:1:0.8333333333332575","D#1","0.00"],["107:1:3.8333333333332575","A#0","0.66"],["107:2:0.8333333333332575","A#0","0.00"],["108:0:3.8333333333332575","D#1","0.57"],["108:1:0.8333333333332575","D#1","0.00"],["108:1:0.8333333333332575","D#1","0.90"],["108:1:2.8333333333332575","D#1","0.00"],["108:2:0.8333333333332575","D#1","0.65"],["108:2:1.8333333333332575","D#1","0.00"],["108:3:0.8333333333332575","A#0","0.66"],["108:3:1.8333333333332575","A#0","0.00"],["109:2:0.8333333333332575","A#0","0.57"],["109:2:1.8333333333332575","A#0","0.00"],["109:3:0.8333333333332575","G#0","0.66"],["109:3:1.8333333333332575","G#0","0.00"],["110:2:0.8333333333332575","G#0","0.57"],["110:2:1.8333333333332575","G#0","0.00"],["110:2:1.8333333333332575","D#1","0.90"],["110:2:2.8333333333332575","D#1","0.00"],["119:1:1.8333333333332575","C1","0.74"],["119:1:2.8333333333332575","C1","0.00"],["119:3:1.8333333333332575","C1","0.74"],["119:3:2.8333333333332575","C1","0.00"],["120:1:1.8333333333332575","C1","0.78"],["120:1:2.8333333333332575","C1","0.00"],["120:3:1.8333333333332575","C1","0.78"],["120:3:2.8333333333332575","C1","0.00"],["127:1:1.8333333333332575","C1","0.74"],["127:1:2.8333333333332575","C1","0.00"],["127:3:1.8333333333332575","C1","0.74"],["127:3:2.8333333333332575","C1","0.00"],["128:1:1.833333333333485","C1","0.78"],["128:1:2.833333333333485","C1","0.00"],["128:3:1.833333333333485","C1","0.78"],["128:3:2.833333333333485","C1","0.00"],["129:0:1.833333333333485","F1","0.72"],["129:0:3.333333333333485","F1","0.00"],["130:0:1.833333333333485","A#1","0.94"],["130:1:1.416666666666515","A#1","0.00"],["130:1:1.833333333333485","A1","0.98"],["130:1:2.625","A1","0.00"],["130:2:0.9583333333334849","G1","0.98"],["130:2:1.375","G1","0.00"],["130:2:1.833333333333485","F1","0.98"],["130:2:2.625","F1","0.00"]];

        Tone.Note.daveScore(indyFull, {
            "sampler" : "tk1", 
            "sampler" : "tk2",
            "sampler" : "tk3",
            "sampler" : "tk4"
            
        });

        Tone.Transport.setBpm(130);
        // Tone.Transport.setLoopEnd("1:0");
        // Tone.Transport.loop = true;

        Tone.Note.route("sampler", function(time, note, velocity, duration){
            sampler.triggerAttackRelease(note, duration, time, 1);
            // debugger;
        });
        Tone.Transport.setTransportTime("4:0:0");
        Tone.Transport.start();


        // window.onload = function () {
        //     MIDI.loadPlugin({
        //         soundfontUrl: "soundfont/",
        //         instrument: "acoustic_grand_piano",
        
        //         callback: function() {
        //             var delay = 0; // play one note every quarter second
        //             var note = 50; // the MIDI note
        //             var velocity = 127; // how hard the note hits
        //             // play the note
        //             MIDI.setVolume(0, 127);
        //             MIDI.noteOn(0, note, velocity, delay);
        //             MIDI.noteOff(0, note, delay + 0.75);
        //             MIDI.Player.loadFile('Indiana.mid', function(){MIDI.Player.start()})
        //         }
        //     });
        // };

    </script>

    
        <!-- build:js scripts/main.js -->

        <script src="scripts/main.js"></script>
        <!-- endbuild -->
</body>
</html>
